{"ast":null,"code":"import _slicedToArray from \"/Users/cognizanttechnologysolutions/Downloads/retro-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/cognizanttechnologysolutions/Downloads/retro-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _jsxFileName = \"/Users/cognizanttechnologysolutions/Downloads/retro-main/src/Context.tsx\";\n\nimport * as React from \"react\";\nimport { useSubscription } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nvar STEP_CHANGED_SUBSCRIPTION = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    subscription {\\n        stepChanged {\\n            step\\n        }\\n    }\\n\"])));\nvar defaultContext = {\n  currentStep: 0,\n  user: null,\n  room: null,\n  showNotes: null,\n  setShowNotes: function setShowNotes() {\n    return null;\n  }\n};\nexport var Context = React.createContext(defaultContext);\nexport default function ContextProvider(_ref) {\n  var _ref2, _stepChangedEv$stepCh;\n\n  var room = _ref.room,\n      user = _ref.user,\n      children = _ref.children;\n\n  var _useSubscription = useSubscription(STEP_CHANGED_SUBSCRIPTION),\n      stepChangedEv = _useSubscription.data;\n\n  var currentStep = (_ref2 = (_stepChangedEv$stepCh = stepChangedEv === null || stepChangedEv === void 0 ? void 0 : stepChangedEv.stepChanged.step) !== null && _stepChangedEv$stepCh !== void 0 ? _stepChangedEv$stepCh : room === null || room === void 0 ? void 0 : room.step) !== null && _ref2 !== void 0 ? _ref2 : 0;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showNotes = _React$useState2[0],\n      setShowNotes = _React$useState2[1];\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: {\n      currentStep: currentStep,\n      user: user,\n      room: room,\n      showNotes: showNotes,\n      setShowNotes: setShowNotes\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, children);\n}","map":{"version":3,"sources":["/Users/cognizanttechnologysolutions/Downloads/retro-main/src/Context.tsx"],"names":["React","useSubscription","gql","STEP_CHANGED_SUBSCRIPTION","defaultContext","currentStep","user","room","showNotes","setShowNotes","Context","createContext","ContextProvider","children","stepChangedEv","data","stepChanged","step","useState"],"mappings":";;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT,QAAgC,qBAAhC;AACA,SAASC,GAAT,QAAoB,cAApB;AAkBA,IAAMC,yBAAyB,GAAGD,GAAH,sJAA/B;AAQA,IAAME,cAA2B,GAAG;AAChCC,EAAAA,WAAW,EAAE,CADmB;AAEhCC,EAAAA,IAAI,EAAE,IAF0B;AAGhCC,EAAAA,IAAI,EAAE,IAH0B;AAIhCC,EAAAA,SAAS,EAAE,IAJqB;AAKhCC,EAAAA,YAAY,EAAE;AAAA,WAAM,IAAN;AAAA;AALkB,CAApC;AAQA,OAAO,IAAMC,OAAO,GAAGV,KAAK,CAACW,aAAN,CAAiCP,cAAjC,CAAhB;AAEP,eAAe,SAASQ,eAAT,OAAkG;AAAA;;AAAA,MAAvEL,IAAuE,QAAvEA,IAAuE;AAAA,MAAjED,IAAiE,QAAjEA,IAAiE;AAAA,MAA3DO,QAA2D,QAA3DA,QAA2D;;AAC7G,yBAAgCZ,eAAe,CAACE,yBAAD,CAA/C;AAAA,MAAcW,aAAd,oBAAQC,IAAR;;AACA,MAAMV,WAAW,qCAAGS,aAAH,aAAGA,aAAH,uBAAGA,aAAa,CAAEE,WAAf,CAA2BC,IAA9B,yEAAsCV,IAAtC,aAAsCA,IAAtC,uBAAsCA,IAAI,CAAEU,IAA5C,yCAAoD,CAArE;;AAEA,wBAAkCjB,KAAK,CAACkB,QAAN,CAA+B,IAA/B,CAAlC;AAAA;AAAA,MAAOV,SAAP;AAAA,MAAkBC,YAAlB;;AAEA,sBACI,oBAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAE;AAAEJ,MAAAA,WAAW,EAAXA,WAAF;AAAeC,MAAAA,IAAI,EAAJA,IAAf;AAAqBC,MAAAA,IAAI,EAAJA,IAArB;AAA2BC,MAAAA,SAAS,EAATA,SAA3B;AAAsCC,MAAAA,YAAY,EAAZA;AAAtC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKI,QADL,CADJ;AAKH","sourcesContent":["import * as React from \"react\";\nimport { useSubscription } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nimport Steps from \"./Steps\";\nimport RoomType from \"./Room/RoomType\";\nimport UserType from \"./UserType\";\n\ntype ContextType = {\n    currentStep: Steps\n    room: RoomType | null\n    user: UserType | null\n    showNotes: boolean | null\n    setShowNotes: (value: boolean) => void\n};\n\ntype ContextProviderProps = {\n    room: RoomType | null\n    user: UserType | null\n};\n\nconst STEP_CHANGED_SUBSCRIPTION = gql`\n    subscription {\n        stepChanged {\n            step\n        }\n    }\n`;\n\nconst defaultContext: ContextType = {\n    currentStep: 0,\n    user: null,\n    room: null,\n    showNotes: null,\n    setShowNotes: () => null\n};\n\nexport const Context = React.createContext<ContextType>(defaultContext);\n\nexport default function ContextProvider({ room, user, children }: React.PropsWithChildren<ContextProviderProps>) {\n    const { data: stepChangedEv } = useSubscription(STEP_CHANGED_SUBSCRIPTION);\n    const currentStep = stepChangedEv?.stepChanged.step ?? room?.step ?? 0;\n\n    const [showNotes, setShowNotes] = React.useState<boolean | null>(null);\n\n    return (\n        <Context.Provider value={{ currentStep, user, room, showNotes, setShowNotes }}>\n            {children}\n        </Context.Provider>\n    );\n}"]},"metadata":{},"sourceType":"module"}