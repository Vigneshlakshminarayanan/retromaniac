{"ast":null,"code":"import _slicedToArray from \"/Users/cognizanttechnologysolutions/Downloads/retro-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/cognizanttechnologysolutions/Downloads/retro-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _this = this,\n    _jsxFileName = \"/Users/cognizanttechnologysolutions/Downloads/retro-main/src/Footer/MainAction.tsx\";\n\nimport * as React from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nimport Button from \"../_lib/Button\";\nimport Steps from \"../Steps\";\nimport { Context } from \"../Context\";\nimport { UserRole } from \"../UserType\";\nvar SWITCH_STEPS = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    mutation {\\n        switchSteps\\n    }\\n\"])));\n\nfunction getMainAction(currentStep) {\n  switch (currentStep) {\n    case Steps.WAIT:\n      return \"Start\";\n\n    case Steps.WRITE:\n      return \"Reveal\";\n\n    case Steps.REVEAL:\n      return \"End session\";\n\n    default:\n      return \"?\";\n  }\n}\n\nvar styles = {\n  display: \"inline-flex\",\n  paddingRight: 20,\n  marginRight: 10,\n  borderRight: \"1px solid var(--border-color)\"\n};\n\nvar MainAction = function MainAction(_ref) {\n  var currentStep = _ref.currentStep;\n\n  var _React$useContext = React.useContext(Context),\n      user = _React$useContext.user;\n\n  var isAdmin = user && user.role === UserRole.ADMIN;\n\n  var _useMutation = useMutation(SWITCH_STEPS),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      switchSteps = _useMutation2[0];\n\n  return !isAdmin || currentStep > 1 ? null : /*#__PURE__*/React.createElement(\"div\", {\n    style: styles,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    handleClick: function handleClick() {\n      return switchSteps();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, getMainAction(currentStep)));\n};\n\nexport default MainAction;","map":{"version":3,"sources":["/Users/cognizanttechnologysolutions/Downloads/retro-main/src/Footer/MainAction.tsx"],"names":["React","useMutation","gql","Button","Steps","Context","UserRole","SWITCH_STEPS","getMainAction","currentStep","WAIT","WRITE","REVEAL","styles","display","paddingRight","marginRight","borderRight","MainAction","useContext","user","isAdmin","role","ADMIN","switchSteps"],"mappings":";;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,SAASC,QAAT,QAAyB,aAAzB;AAMA,IAAMC,YAAY,GAAGL,GAAH,mHAAlB;;AAMA,SAASM,aAAT,CAAuBC,WAAvB,EAA4C;AACxC,UAAQA,WAAR;AACI,SAAKL,KAAK,CAACM,IAAX;AACI,aAAO,OAAP;;AACJ,SAAKN,KAAK,CAACO,KAAX;AACI,aAAO,QAAP;;AACJ,SAAKP,KAAK,CAACQ,MAAX;AACI,aAAO,aAAP;;AACJ;AACI,aAAO,GAAP;AARR;AAUH;;AAED,IAAMC,MAAM,GAAG;AACXC,EAAAA,OAAO,EAAE,aADE;AAEXC,EAAAA,YAAY,EAAE,EAFH;AAGXC,EAAAA,WAAW,EAAE,EAHF;AAIXC,EAAAA,WAAW,EAAE;AAJF,CAAf;;AAOA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAsC;AAAA,MAAnCT,WAAmC,QAAnCA,WAAmC;;AACrD,0BAAiBT,KAAK,CAACmB,UAAN,CAAiBd,OAAjB,CAAjB;AAAA,MAAQe,IAAR,qBAAQA,IAAR;;AACA,MAAMC,OAAO,GAAGD,IAAI,IAAIA,IAAI,CAACE,IAAL,KAAchB,QAAQ,CAACiB,KAA/C;;AAEA,qBAAsBtB,WAAW,CAACM,YAAD,CAAjC;AAAA;AAAA,MAAOiB,WAAP;;AAEA,SAAO,CAACH,OAAD,IAAYZ,WAAW,GAAG,CAA1B,GAA8B,IAA9B,gBACH;AAAK,IAAA,KAAK,EAAEI,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,WAAW,EAAE;AAAA,aAAMW,WAAW,EAAjB;AAAA,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKhB,aAAa,CAACC,WAAD,CADlB,CADJ,CADJ;AAOH,CAbD;;AAeA,eAAeS,UAAf","sourcesContent":["import * as React from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nimport Button from \"../_lib/Button\";\nimport Steps from \"../Steps\";\nimport { Context } from \"../Context\";\nimport { UserRole } from \"../UserType\";\n\ntype MainActionProps = {\n    currentStep: number\n};\n\nconst SWITCH_STEPS = gql`\n    mutation {\n        switchSteps\n    }\n`;\n\nfunction getMainAction(currentStep: number) {\n    switch (currentStep) {\n        case Steps.WAIT:\n            return \"Start\";\n        case Steps.WRITE:\n            return \"Reveal\";\n        case Steps.REVEAL:\n            return \"End session\";\n        default:\n            return \"?\";\n    }\n}\n\nconst styles = {\n    display: \"inline-flex\",\n    paddingRight: 20,\n    marginRight: 10,\n    borderRight: \"1px solid var(--border-color)\"\n};\n\nconst MainAction = ({ currentStep }: MainActionProps) => {\n    const { user } = React.useContext(Context);\n    const isAdmin = user && user.role === UserRole.ADMIN;\n\n    const [switchSteps] = useMutation(SWITCH_STEPS);\n\n    return !isAdmin || currentStep > 1 ? null : (\n        <div style={styles}>\n            <Button handleClick={() => switchSteps()}>\n                {getMainAction(currentStep)}\n            </Button>\n        </div>\n    );\n};\n\nexport default MainAction;"]},"metadata":{},"sourceType":"module"}