{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/cognizanttechnologysolutions/Downloads/retro-main/src/Footer/Timer.tsx\";\n\nimport * as React from \"react\";\nimport moment from \"moment\";\nimport { useTimer } from \"react-timer-hook\";\nimport { Context } from \"../Context\";\n\n// Here, we display a timer during the REVEAL step\n// of a meeting, _or_ the time before the room expires\n// if the meeting is already over\nvar Timer = function Timer(_ref) {\n  var shouldStart = _ref.shouldStart,\n      over = _ref.over;\n  var time = new Date();\n  var expiryTimestamp = time.setSeconds(time.getSeconds() + 480); // 8-minute timer\n\n  var _useTimer = useTimer({\n    expiryTimestamp: expiryTimestamp\n  }),\n      seconds = _useTimer.seconds,\n      minutes = _useTimer.minutes,\n      resume = _useTimer.resume,\n      pause = _useTimer.pause;\n\n  var _React$useContext = React.useContext(Context),\n      room = _React$useContext.room;\n\n  React.useEffect(function () {\n    if (shouldStart) {\n      resume();\n    } else {\n      pause();\n    }\n  }, [shouldStart, pause, resume]);\n\n  if (!room) {\n    return null;\n  }\n\n  if (!room.done) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 14\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, over ? \"0:00\" : \"\".concat(minutes < 0 ? 0 : minutes, \":\").concat(seconds < 0 ? \"00\" : seconds.toString().length === 1 ? \"0\".concat(seconds) : seconds));\n  }\n\n  var daysBeforeExpiry = moment(room.createdAt, \"x\").add(7, \"d\").diff(moment(time), \"days\");\n  var expiryText = daysBeforeExpiry === 0 ? 'less than a day' : \"\".concat(daysBeforeExpiry, \" day\").concat(daysBeforeExpiry === 1 ? '' : 's');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 14\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"The room expires in \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 39\n    }\n  }, expiryText)));\n};\n\nexport default Timer;","map":{"version":3,"sources":["/Users/cognizanttechnologysolutions/Downloads/retro-main/src/Footer/Timer.tsx"],"names":["React","moment","useTimer","Context","Timer","shouldStart","over","time","Date","expiryTimestamp","setSeconds","getSeconds","seconds","minutes","resume","pause","useContext","room","useEffect","done","fontSize","toString","length","daysBeforeExpiry","createdAt","add","diff","expiryText"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,OAAT,QAAwB,YAAxB;;AAOA;AACA;AACA;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAuC;AAAA,MAApCC,WAAoC,QAApCA,WAAoC;AAAA,MAAvBC,IAAuB,QAAvBA,IAAuB;AACjD,MAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,MAAMC,eAAe,GAAGF,IAAI,CAACG,UAAL,CAAgBH,IAAI,CAACI,UAAL,KAAoB,GAApC,CAAxB,CAFiD,CAEiB;;AAElE,kBAA4CT,QAAQ,CAAC;AAAEO,IAAAA,eAAe,EAAfA;AAAF,GAAD,CAApD;AAAA,MAAQG,OAAR,aAAQA,OAAR;AAAA,MAAiBC,OAAjB,aAAiBA,OAAjB;AAAA,MAA0BC,MAA1B,aAA0BA,MAA1B;AAAA,MAAkCC,KAAlC,aAAkCA,KAAlC;;AAEA,0BAAiBf,KAAK,CAACgB,UAAN,CAAiBb,OAAjB,CAAjB;AAAA,MAAQc,IAAR,qBAAQA,IAAR;;AAEAjB,EAAAA,KAAK,CAACkB,SAAN,CAAgB,YAAM;AAClB,QAAIb,WAAJ,EAAiB;AACbS,MAAAA,MAAM;AACT,KAFD,MAEO;AACHC,MAAAA,KAAK;AACR;AACJ,GAND,EAMG,CAACV,WAAD,EAAcU,KAAd,EAAqBD,MAArB,CANH;;AAQA,MAAI,CAACG,IAAL,EAAW;AACP,WAAO,IAAP;AACH;;AAED,MAAI,CAACA,IAAI,CAACE,IAAV,EAAgB;AACZ,wBACI;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKd,IAAI,GACC,MADD,aAEIO,OAAO,GAAG,CAAV,GAAc,CAAd,GAAkBA,OAFtB,cAEiCD,OAAO,GAAG,CAAV,GAAc,IAAd,GAAsBA,OAAO,CAACS,QAAR,GAAmBC,MAAnB,KAA8B,CAA9B,cAAsCV,OAAtC,IAAkDA,OAFzG,CADT,CADJ;AAQH;;AAED,MAAMW,gBAAgB,GAAGtB,MAAM,CAACgB,IAAI,CAACO,SAAN,EAAiB,GAAjB,CAAN,CAA4BC,GAA5B,CAAgC,CAAhC,EAAmC,GAAnC,EAAwCC,IAAxC,CAA6CzB,MAAM,CAACM,IAAD,CAAnD,EAA2D,MAA3D,CAAzB;AACA,MAAMoB,UAAU,GAAGJ,gBAAgB,KAAK,CAArB,GAAyB,iBAAzB,aAAgDA,gBAAhD,iBAAuEA,gBAAgB,KAAK,CAArB,GAAyB,EAAzB,GAA8B,GAArG,CAAnB;AAEA,sBACI;AAAK,IAAA,KAAK,EAAE;AAAEH,MAAAA,QAAQ,EAAE;AAAZ,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIO,UAAJ,CAA1B,CADJ,CADJ;AAKH,CAvCD;;AAyCA,eAAevB,KAAf","sourcesContent":["import * as React from \"react\";\nimport moment from \"moment\";\nimport { useTimer } from \"react-timer-hook\";\nimport { Context } from \"../Context\";\n\ntype TimerProps = {\n    shouldStart: boolean\n    over: boolean\n};\n\n// Here, we display a timer during the REVEAL step\n// of a meeting, _or_ the time before the room expires\n// if the meeting is already over\nconst Timer = ({ shouldStart, over }: TimerProps) => {\n    const time = new Date();\n    const expiryTimestamp = time.setSeconds(time.getSeconds() + 480); // 8-minute timer\n\n    const { seconds, minutes, resume, pause } = useTimer({ expiryTimestamp });\n\n    const { room } = React.useContext(Context);\n\n    React.useEffect(() => {\n        if (shouldStart) {\n            resume();\n        } else {\n            pause();\n        }\n    }, [shouldStart, pause, resume]);\n\n    if (!room) {\n        return null;\n    }\n\n    if (!room.done) {\n        return (\n            <div style={{ fontSize: 14}}>\n                {over\n                    ? \"0:00\"\n                    : `${minutes < 0 ? 0 : minutes}:${seconds < 0 ? \"00\" : (seconds.toString().length === 1 ? `0${seconds}` : seconds)}`\n                }\n            </div>\n        );\n    }\n\n    const daysBeforeExpiry = moment(room.createdAt, \"x\").add(7, \"d\").diff(moment(time), \"days\");\n    const expiryText = daysBeforeExpiry === 0 ? 'less than a day' : `${daysBeforeExpiry} day${daysBeforeExpiry === 1 ? '' : 's'}`;\n\n    return (\n        <div style={{ fontSize: 14 }}>\n            <span>The room expires in <b>{expiryText}</b></span>\n        </div>\n    );\n}\n\nexport default Timer;\n"]},"metadata":{},"sourceType":"module"}